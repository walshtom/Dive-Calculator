<!DOCTYPE html>
<html lang="en">
                       
<head>
  <meta charset="utf-8">
  <meta name="author" content="Tom Walsh">  
  <link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css"> 
  <link rel="icon" href="img/favicon.ico">
  
  <script src="js/jquery-1.12.3.min.js" type="text/javascript"></script>
  
  <script src="js/jquery.mobile-1.4.5.min.js" type="text/javascript"></script>
  <title>Scuba Gas Calculator</title>  
  <meta name="viewport" content="width=device-width, minimum-scale=1.0">
</head>

<body>
	
<div data-role="page" id="page1">
  <div data-role="header">
    <h1>Nitrox Calculator</h1>
  </div>
  <div role="main" class="ui-content">
    <div data-role="tabs">
      <div data-role="navbar">
        <ul>
          <li><a href="#tab-1" class="ui-btn-active">Best Mix</a></li>
          <li><a href="#tab-2">MOD</a></li>
          <li><a href="#tab-3">EAD</a></li>
		  <li><a href="#tab-4">ppO<sub>2</sub></a></li>
        </ul>
      </div>
	  
<!-- -------Best Nitrox Mix--------------------------------------------------------- -->	  
	  
<div id="tab-1">
	<h2>Best Nitrox Mix</h2>
		<div>
			<label for="slider-1">Depth</label>
			<input type="range" name="slider-1" id="depth_slider" data-highlight="true" min="33" max="150" value="33"></input>	
		</div>	
		<h2><span id="BM_value">70</span>&nbsp;Percent Oxygen</h2>
</div>
<script>
$(document).on('change', '#depth_slider', function() {
	var BM = null;
	var depth1  = ($(this).val());
	ATA = null;
	ATA = ((depth1/33) + 1);
	BM = Math.round(100 * (1.4/ATA));
	$('#BM_value').html(BM);	
});
</script>		  
<!-- -------Maximum Operating Depth-------------------------------------------------- -->
	  
<div id="tab-2">
	<h2>Maximum Operating Depth</h2>
		<div id="test">	
			<label for="slider-2">Percentage Oxygen</label>
			<input type="range" name="slider-2" id="percentO2slider" data-highlight="true" min="21" max="40" value="21"></input>	
		</div>	
		<h2><span id="MOD_value">187</span>&nbsp;Feet</h2>		
</div>
<script>
$(document).on('change', '#percentO2slider', function() {
	var MOD = null;
	var fO2  = ($(this).val())/100;
	MOD = Math.round((46.2/fO2)-33);
	$('#MOD_value').html(MOD);	
});
</script>	  
	  
<!-- -------Equivalent Air Depth----------------------------------------------------- -->	  
	  
<div id="tab-3">
	<h2>Equivalent Air Depth</h2>
		<div>
			<label for="slider-1">Depth</label>
			<input type="range" class="EADslider" name="slider-1" id="depth_slider" data-highlight="true" min="33" max="150" value="33"></input>		
			<label for="slider-2">Percentage Oxygen</label>
			<input type="range" class="EADslider" name="slider-2" id="percentO2slider" data-highlight="true" min="21" max="40" value="21"></input>	
		</div>		
		<h2><span id="EAD_value">33</span>&nbsp;Feet</h2>	
</div>		
<script>
	var depth2 = 33;
	var fO2 = .21;
	var EAD = null;
$(document).on('change', '#depth_slider', function() {	
	depth2 = ($(this).val());
	calcEAD(depth2);
});
$(document).on('change', '#percentO2slider', function() {
	fO2 = ($(this).val())/100;
	calcEAD(fO2);
});

function calcEAD() {
	var fN2 = null;
		fN2 = (1 - fO2);
		
	var new_depth = null;
		new_depth = (parseInt(depth2) + 33);

EAD = Math.round((((fN2) * (new_depth))/.79) - 33);
$('#EAD_value').html(EAD);
}
</script>
	
<!-- -------Partial Pressure of Oxygen----------------------------------------------- -->
			
<div id="tab-4">
	<h2>Partial Pressure of Oxygen</h2>
		<div>
			<label for="slider-1">Depth</label>
			<input type="range" name="slider-1" id="depth_slider" data-highlight="true" min="0" max="150" value="0"></input>		
			<label for="slider-2">Percentage Oxygen</label>
			<input type="range" name="slider-2" id="percentO2slider" data-highlight="true" min="21" max="40" value="21"></input>
		<h2><span id="ppO2_value">0.21</span>&nbsp;Atmospheres Absolute</h2>					
		</div>				
</div>
<script>
	var depth3 = 0;
	var fO2 = .21;
	var ppO2 = null;
$(document).on('change', '#depth_slider', function() {	
	depth3 = ($(this).val());
	calcppO2(depth3);
});
$(document).on('change', '#percentO2slider', function() {
	fO2 = ($(this).val())/100;
	calcppO2(fO2);
});

function calcppO2() {
	var pressure = null;
	pressure = ((depth3/33) + 1);

	ppO2 = (fO2 * pressure);
	ppO2 = ppO2.toFixed(2);

$('#ppO2_value').html(ppO2);
}

</script> 
<!-- -------------------------------------------------------------------------------- -->
	
    </div> <!-- end data-role="tabs" -->
	
  </div> <!-- end role="main" class="ui-content" -->
  
<!-- -------------------------------------------------------------------------------- -->
  
  <div data-role="footer">
	<fieldset>	
		<div class="ui-block-a" style="padding-left: 1em;">
			<a href="#" class="ui-btn ui-btn-inline ui-icon-gear ui-btn-icon-left">Settings</a>
		</div>  
		<div style="text-align: center;">
			<p>Explorers Dive Club</p>
		</div>		
	</fieldset>
  </div>
  
  
  
</div>  <!-- end data-role="page" id="page1" -->



</body>
</html>